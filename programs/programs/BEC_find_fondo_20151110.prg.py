prg_comment = ""
prg_version = "0.5.1"
def program(prg, cmd):
    prg.add(10, "Initialize 0 TTL and Synchronize.sub")
    prg.add(500, "Config Field OFF.sub", enable=False)
    prg.add(12580, "B comp x", 0.0)
    prg.add(40000, "TTL Pinning OFF")
    prg.add(50000, "Optical Levit (-) Amp", 1000)
    prg.add(100000, "B comp y", 0.0000)
    prg.add(110000, "IGBT B comp y ON")
    prg.add(1500000, "Set MOT NaK.sub")
    prg.add(2000000, "Dark Spot MOT load.sub")
    prg.add(2100000, "Config MOT.sub")
    prg.add(10000000, "Optical Levit ON")
    prg.add(190000000, "Melassa Na.sub")
    prg.add(190001000, "Melassa Na amp.sub")
    prg.add(190001500, "Config Field OFF.sub")
    prg.add(190049500, "MOT lights Off.sub")
    prg.add(190053500, "Delta 1 Current", 200.000)
    prg.add(190053510, "Delta 2 Voltage", 30.0000)
    prg.add(190053520, "Config MT compr.sub")
    prg.add(192057540, "All Shutter Close.sub")
    prg.add(195059540, "Mirrors Imaging")
    prg.add(195559540, "IGBT B comp x ON")
    prg.add(196059540, "All AOM On.sub")
    prg.add(199059540, "B comp x", 930.0)
    prg.add(200009500, "Evaporation Ramp.sub")
    prg.add(637012500, "Decompress Current MT.sub")
    prg.add(637019500, "Decompress Voltage MT.sub")
    prg.add(637019500, "Picture NaK.sub", enable=False)
    prg.add(753049500, "Config Field OFF.sub", enable=False)
    prg.add(753049500, "Picture - Field off at 0ms - Levit 50ms - Hamamatsu.sub", enable=False)
    prg.add(753049500, "Picture - Field off at 0ms - Levit 180ms - Hamamatsu.sub", enable=False)
    prg.add(753054500, "Picture NaK.sub", enable=False)
    prg.add(753054500, "Picture NaK Hamamatsu.sub", enable=False)
    prg.add(767000000, "Picture - Field off at 0ms - Levit 20ms.sub", enable=False)
    prg.add(767000000, "Picture - Field off at 0ms - Levit 30ms.sub", enable=False)
    prg.add(767000000, "Picture - Field off at 0ms - Levit 180ms.sub")
    prg.add(775800000, "Set MOT NaK.sub")
    prg.add(776300000, "Dark Spot MOT load.sub")
    prg.add(776400000, "Config MOT.sub")
    return prg
def commands(cmd):
    from numpy import arange
    times=list(arange(0,20,1))
    times.reverse()
    while(cmd.running):
        print('actual: ', times[-1])
        print('real hold time : ', 1+times[-1])
        cmd.set_var("t", times.pop())
        print('Remaining: ',times)
        cmd.run()
        cmd.sleep(2000)
        if len(times) == 0:
         cmd.stop()
    return cmd

prg_comment = ""
prg_version = "0.5.1"
def program(prg, cmd):
    prg.add(10, "Initialize 0 TTL and Synchronize.sub")
    prg.add(500, "Config Field OFF.sub", enable=False)
    prg.add(12580, "B comp x", 0.0)
    prg.add(50000, "Optical Levit (-) Amp", 1000)
    prg.add(100000, "B comp y", 0.0000)
    prg.add(100500, "TTL Pinning ON")
    prg.add(101000, "TTL Pinning OFF", enable=False)
    prg.add(111000, "Pinning Lock", 1.0000)
    prg.add(121000, "IGBT B comp y ON")
    prg.add(1500000, "Set MOT NaK.sub")
    prg.add(2000000, "Dark Spot MOT load.sub")
    prg.add(2100000, "Config MOT.sub")
    prg.add(10000000, "Optical Levit ON")
    prg.add(190000000, "Melassa Na.sub")
    prg.add(190001000, "Melassa Na amp.sub")
    prg.add(190001500, "Config Field OFF.sub")
    prg.add(190049500, "MOT lights Off.sub")
    prg.add(190053500, "Delta 1 Current", 200.000)
    prg.add(190053510, "Delta 2 Voltage", 30.0000)
    prg.add(190053520, "Config MT compr.sub")
    prg.add(192057540, "All Shutter Close.sub")
    prg.add(195059540, "Mirrors Imaging")
    prg.add(195559540, "IGBT B comp x ON")
    prg.add(196059540, "All AOM On.sub")
    prg.add(199000000, "Bottom Evaporation OFF")
    prg.add(199060040, "B comp x", 980.0)
    prg.add(200000000, "Evaporation Ramp.sub")
    prg.add(635003000, "Decompress Current 200-50", start_t=0.0000, stop_x=50.000, n_points=150, start_x=200.000, stop_t=500.0000)
    prg.add(635010000, "Decompress Voltage 200-50", start_t=0.0000, stop_x=0.000, n_points=150, start_x=30.000, stop_t=500.0000)
    prg.add(748302000, "RFO SetImaging+Ref")
    prg.add(749301500, "Pulse uw ON")
    prg.add(749302000, "TTL Pinning OFF")
    prg.add(749302100, "Pinning Lock", 0.0000)
    prg.add(749302500, "RFO FM amp", 0.5000)
    prg.add(749302899, "RFO SingleSweepTrig12 Ramp", start_t=0.0000, stop_x=0.000, n_points=24, start_x=1.000, stop_t=460.0000)
    prg.add(749422899, "RFO ImagingQuatum Ramp", start_t=0.0000, stop_x=0.000, n_points=24, start_x=1.000, stop_t=460.0000)
    prg.add(749422900, "Picture NaK no Rep.sub", enable=False)
    prg.add(749422900, "Picture NaK.sub", enable=False)
    prg.add(749423900, "Bottom Evaporation ON", enable=False)
    prg.add(750623900, "RFO FM amp", 0.6000)
    prg.add(751823900, "RFO FM amp", 0.6500)
    prg.add(753023900, "RFO FM amp", 0.8000)
    prg.add(754023900, "RFO FM amp", 0.0000)
    prg.add(754023900, "Bottom Evaporation OFF", enable=False)
    prg.add(754023900, "Config Field OFF.sub", enable=False)
    prg.add(754023900, "Picture - Field off at 0ms - Levit 150ms.sub", enable=False)
    prg.add(754023900, "Picture - Field off at 0ms - Levit 120ms.sub", enable=False)
    prg.add(754023900, "Picture - Field off at 0ms - Levit 50ms.sub", enable=False)
    prg.add(754033900, "Pulse uw OFF")
    prg.add(754233900, "RFO ImagingQuantum")
    prg.add(754243900, "Config Field OFF.sub", enable=False)
    prg.add(754253900, "Picture NaK Trig 2.sub", enable=False)
    prg.add(755753900, "Picture - Field off at 0ms - Levit 100ms - Trig2.sub")
    prg.add(755849900, "RFO FM amp", 0.0000, enable=False)
    prg.add(756152900, "Picture - Levit Film.sub", enable=False)
    prg.add(756160900, "Picture - Field off at 0ms - Levit 180ms - Hamamatsu.sub", enable=False)
    prg.add(769160900, "TTL Pinning ON")
    prg.add(769260900, "Pinning Lock", 3.0000)
    prg.add(770260900, "Set MOT NaK.sub")
    prg.add(770760900, "Dark Spot MOT load.sub")
    prg.add(770860900, "Config MOT.sub")
    return prg
def commands(cmd):
    import numpy as np
    iters = np.arange(0, 500, 15)
    j = 0
    while(cmd.running):
        dt1 = iters[j]
        cmd.set_var('dt', dt1)
        print('\n-------o-------')
        print('Run #%d/%d, with variables:\ndt = %g\n'%(j+1, len(iters), dt1))
        cmd.run(wait_end=True, add_time=100)
        j += 1
        if j == len(iters):
            cmd.stop()
    return cmd
